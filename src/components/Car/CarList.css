/* src/components/Car/CarList.css */

/* =========================================================
   THEME TOKENS
   ========================================================= */
:root{
  --bg:#0f172a;
  --panel:#111827;
  --card:#0b1220;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --line:#1f2937;
  --blue:#2563eb;
  --green:#16a34a;
  --yellow:#ca8a04;
  --purple:#7c3aed;
  --red:#ef4444;
  --teal:#0ea5a4;

  --fz:14px;
  --padY:10px;
  --padX:10px;

  --fz-compact:12px;
  --padY-compact:6px;
  --padX-compact:8px;

  --shadow-lg: 0 10px 24px rgba(0,0,0,.28);
  --shadow-sm: 0 4px 12px rgba(0,0,0,.18);
}

/* =========================================================
   PAGE + TYPOGRAPHY
   ========================================================= */
.page-pad{
  padding: 18px;
  font-family: system-ui,-apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  min-height: 100vh;
  color: var(--text);
}

.title{ margin: 0 0 2px 0; font-size: 24px; font-weight: 700; }
.subtitle{ margin: 0; font-size: 13px; color: var(--muted); }

.toolbar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

/* =========================================================
   BUTTONS
   ========================================================= */
.btn{
  appearance: none;
  border: none;
  border-radius: 10px;
  padding: 10px 14px;
  color: white;
  cursor: pointer;
  font-weight: 700;
  transition: transform .04s ease, opacity .2s ease, filter .15s ease;
  will-change: transform;
}
.btn:hover{ filter: brightness(1.05); }
.btn:active{ transform: translateY(1px); }

.btn--primary{ background: linear-gradient(135deg, var(--blue), #5b8df2); box-shadow: var(--shadow-sm); }
.btn--muted{ background: #334155; }
.btn--danger{ background: var(--red); }
.btn--photos{ background: linear-gradient(135deg, var(--teal), #22c1bd); }

.btn--kebab{
  background: #334155;
  width: 34px;
  padding: 6px 0;
  text-align: center;
  font-size: 18px;
  line-height: 1;
  border-radius: 9px;
}
.btn--xs{ width: 28px; font-size: 16px; padding: 4px 0; border-radius: 8px; }

.icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#2a3547;
  color:#e2e8f0 !important;
  border:none;
  border-radius:8px;
  width:34px; height:34px;
  cursor:pointer;
  transition: filter .15s ease;
}
.icon-btn:hover{ filter: brightness(1.15); }
.icon-btn--xs{ width:28px; height:28px; }

/* Ensure images render consistently inside icon buttons */
.icon-btn img,
.btn--kebab svg {
  width: 16px;
  height: 16px;
  display: block;
}

/* =========================================================
   ALERT
   ========================================================= */
.alert{
  padding: 10px 12px;
  border-radius: 10px;
  background: #3f1d1d;
  color: #ffcccc;
  border: 1px solid #7f1d1d;
  margin-bottom: 12px;
}

/* =========================================================
   TABLE CONTAINER
   ========================================================= */
.table-wrap{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 14px;
  overflow: auto;
  box-shadow: var(--shadow-lg);
  -webkit-overflow-scrolling: touch;
}

.table-wrap::-webkit-scrollbar{ height: 10px; }
.table-wrap::-webkit-scrollbar-track{ background: #0b1220; }
.table-wrap::-webkit-scrollbar-thumb{ background: #2b3a55; border-radius: 6px; }

.table-wrap.compact{ border-radius: 12px; }

/* =========================================================
   TABLE
   ========================================================= */
.car-table{
  width: 100%;
  min-width: 980px;
  border-collapse: collapse;
  table-layout: fixed;
  font-size: var(--fz);
  color: var(--text);
}

.car-table thead th{
  background: #0b1324;
  color: #cbd5e1;
  text-align: left;
  padding: var(--padY) var(--padX);
  position: sticky;
  top: 0;
  z-index: 1;
  white-space: nowrap;
  border-bottom: 1px solid #0f1f3a;
}
.thbtn{
  all: unset;
  cursor: pointer;
  color: inherit;
  padding: 4px 6px;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
}
.thbtn:hover{ background:#1f2937; }

.car-table tbody td{
  padding: var(--padY) var(--padX);
  border-top: 1px solid var(--line);
  vertical-align: middle;
  color: var(--text);
}

.car-table tbody tr.row:hover{ background: rgba(59,130,246,.08); }
.row--editing{ background: rgba(0,255,163,.08); outline: 1px dashed rgba(0,255,163,.4); }

.cell{
  display:block;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  max-width:100%;
}

.empty{
  text-align: center;
  color: var(--muted);
  padding: 18px !important;
}

/* Column width helpers */
col.col-car{ width:auto; min-width: 320px; }
col.col-loc{ width:120px; }
col.col-next{ width:220px; }
col.col-chk{ width:360px; }
col.col-notes{ width:240px; }
col.col-stage{ width:80px; }
col.col-act{ width:100px; }

/* =========================================================
   INPUTS (table editors + toolbar search)
   ========================================================= */
.input{
  width: 100%;
  background: #0b1220;
  color: var(--text);
  border: 1px solid #243041;
  border-radius: 8px;
  padding: 8px 10px;
  outline: none;
  font-size: 14px;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.input:focus{
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59,130,246,.25);
}
.input--compact{ padding: 6px 8px; border-radius: 7px; font-size: 12px; }

/* Editors */
.editor-wrap{
  box-sizing:border-box;
  width:100%;
  background:#0b1220;
  border:1px solid #243041;
  border-radius:10px;
  padding:8px;
  overflow:hidden;
}
.editor-wrap--wide{ box-shadow:0 0 0 1px rgba(36,48,65,.4) inset; }

.editor-input{
  width:100%;
  box-sizing:border-box;
  background:#0f172a !important;
  border:1px solid #243041 !important;
  border-radius:8px;
  padding:6px 8px;
  color:#e5e7eb;
  outline:none;
}

.car-editor-grid{
  display:grid;
  grid-template-columns: 1fr 1fr 88px 110px 80px 2fr;
  gap:8px;
  width:100%;
  max-width:100%;
}
.edit-td{ padding:8px 8px; }

/* Actions cell */
.actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  flex-wrap:nowrap;
}

/* Split layout */
.split-panels{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

/* Tabs (used in toolbar) */
.tabbar{
  display:inline-flex;
  gap:6px;
  background:#0b1220;
  border:1px solid #243041;
  padding:6px;
  border-radius:12px;
  margin-right:8px;
}
.tab{
  border:0;
  padding:8px 14px;
  border-radius:10px;
  background:transparent;
  color:#cbd5e1;
  cursor:pointer;
}
.tab.is-active{ background:#1f2937; color:#fff; }

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 1100px){
  .title{ font-size: 22px; }
}
@media (max-width: 980px){
  .title{ font-size: 21px; }
  .car-table{ min-width: 920px; }
}

/* ---------- COMPACT MOBILE/TABLET (one tight header row) ---------- */
@media (max-width: 820px){
  .page-pad{ padding: 12px 12px 8px; }

  /* compact title line */
  .title{ font-size: 22px; margin: 0; }
  .subtitle{ font-size: 12px; margin: 2px 0 6px; }

  /* header toolbars: keep everything on one row, tiny gaps */
  .toolbar,
  .toolbar.header-row,
  .header-row,
  .inventory-header{
    display:flex;
    align-items:center;
    justify-content:center;
    flex-wrap:wrap;
    gap:6px;
    row-gap:6px;
    column-gap:6px;
    margin:6px 0;
  }

  .tabbar{ padding:3px 4px; gap:4px; border-radius:10px; transform:scale(.96); transform-origin:center; }
  .tab{ padding:5px 9px; font-size:12.5px; border-radius:8px; }

  .chip-row, .stage-chips{ display:flex; gap:6px; margin:2px 0 4px; }
  .chip{ padding:6px 10px; }

  .searchbar, .search-input{
    margin:2px 0;
    min-height:36px;
    width:100%;
  }

  .btn-row, .inventory-actions, .actions-row{
    display:flex;
    gap:6px;
    margin:2px 0 0;
    flex-wrap:wrap;
  }

  .btn{
    padding:7px 10px;
    border-radius:8px;
    font-size:13px;
  }

  /* tables: single column split, tighter cells */
  .split-panels{ grid-template-columns:1fr; gap:12px; }
  .car-table{ font-size: var(--fz-compact); }
  .car-table thead th, .car-table tbody td{ padding: var(--padY-compact) var(--padX-compact); }

  /* row action buttons */
  .actions{ gap:6px; }
  .btn--xs{ padding:2px 6px; font-size:12px; }
  .btn--kebab{ width:28px; padding:2px 0; font-size:16px; }
  .icon-btn{ width:28px; height:28px; }
}

/* ---------- EXTRA TIGHT for small phones ---------- */
@media (max-width: 480px){
  .page-pad{ padding: 10px 10px 6px; }
  .tab{ padding:5px 8px; }
  .chip{ padding:5px 9px; }
}

/* ---------- Compact header stack for desktop too (keeps things neat) ---------- */
@media (min-width: 981px){
  .toolbar, .header-row, .inventory-header{
    display:flex;
    align-items:center;
    gap:10px;
    margin-bottom:8px !important;
    flex-wrap:wrap;
  }
  .title{ margin: 0 10px 2px 0 !important; }
  .subtitle{ margin: 0 12px 0 0 !important; }

  .search-input, .searchbar{
    margin:0 !important;
    flex:1 1 520px;
    min-width:320px;
  }

  .tabbar{ margin:0 !important; padding:4px 6px !important; gap:4px; }
  .tab{ padding:6px 10px !important; border-radius:8px; }

  .stage-chips, .chip-row{ margin:0 !important; gap:8px !important; }
  .inventory-actions, .btn-row{ margin:0 !important; gap:8px !important; }
  .inventory-actions .btn, .btn-row .btn{ padding:8px 10px !important; border-radius:8px !important; font-size:13px !important; }
}

/* ---------- Chips + select (shared) ---------- */
.chip-row{ display:flex; gap:6px; flex-wrap:wrap; }
.chip{
  border:1px solid #243041; border-radius:999px; padding:8px 12px; cursor:pointer;
  background:#0b1220; color:#cbd5e1; font-weight:600;
  transition:filter .1s ease, transform .02s ease, background .15s ease, color .15s ease;
}
.chip:hover{ filter:brightness(1.1); }
.chip:active{ transform: translateY(0.5px); }
.chip.chip--on{ background:#2563EB; color:#fff; border-color:transparent; }
.input--select-lg{ min-height:44px; font-size:16px; }

/* ===== KILL ALL EXTRA VERTICAL SPACE ON MOBILE HEADER ===== */
@media (max-width: 820px){
  /* compact the whole header row */
  .toolbar,
  .toolbar.header-row,
  .header-row,
  .inventory-header,
  .split-toolbar{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    align-items:center;
    gap:4px !important;
    row-gap:4px !important;
    column-gap:4px !important;
    margin:4px 0 !important;
  }

  /* remove margins from all children inside the header */
  .toolbar > *,
  .header-row > *,
  .inventory-header > *,
  .split-toolbar > * { margin:0 !important; }

  /* zero out common elements */
  .titlebox, .titlebox > *, .tabbar, .chip-row, .stage-chips,
  .searchbar, .search-input, .btn-row, .inventory-actions { margin:0 !important; }

  /* tighten sizes */
  .tabbar{ padding:2px 3px !important; }
  .tab{ padding:5px 8px !important; font-size:12.5px !important; }
  .chip-row{ gap:6px !important; }
  .chip{ padding:5px 9px !important; }
  .searchbar, .search-input{ min-height:34px !important; width:100% !important; }
  .btn-row .btn, .inventory-actions .btn{ padding:7px 10px !important; border-radius:8px !important; font-size:13px !important; }
}

/* ---------- Small utility buttons (Upload/Paste/Photos) ---------- */
.inventory-actions .btn.btn--sm,
.btn-row .btn.btn--sm{
  padding:6px 9px;
  font-size:12.5px;
  border-radius:8px;
}

@media (max-width: 820px){
  .inventory-actions .btn.btn--sm,
  .btn-row .btn.btn--sm{
    padding:5px 8px;
    font-size:12px;
  }
}
